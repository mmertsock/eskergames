<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>CitySim</title>
    <script>
        window.doNotInitializeGame = true;
        window.prepareLoadGamePrompt = true;
    </script>
    <script defer src="js-yaml.min.js"></script>
    <script defer src="g.js"></script>
    <script defer src="city-content.js"></script>
    <script defer src="city.js"></script>

<style type="text/css">

    /* 
pixelated filter:;
https://stackoverflow.com/questions/37451189/can-one-pixelate-images-with-an-svg-filter
    */

body {
    margin: 0;
    padding: 0;
}

section {
    display: block;
    margin: 0;
    padding: 0;
}
section.hidden {
    display: none;
}

/* center h/v container */
body > div {
    display: flex;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: 0;
    padding: 0;
    align-items: center;
}

/* center h/v */
section#root {
    display: block;
    margin: 0 auto;
}

header {
    text-align: center;
    margin: 12px 0 18px 0;
}

h1 {
    margin: 0;
    font-size: 50pt;
    text-shadow: 0px 0px 6px hsl(0, 0%, 0%);
}

h2 {
    margin: 0;
    font-size: 12pt;
}

nav {
    margin: 12px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-around;
}

#root {
    width: 30em;
    max-width: 90%;
    padding: 2px;
    border-radius: 10px;
    border: 1px solid hsl(0, 0%, 20%);
    background-color: hsl(120, 84%, 50%);
    color: hsl(0, 0%, 100%);
}

#root > div {
    /*


TODO
could use an outline with a negative inset on the #root instead.




TODO
hmm maybe this whole page is an excuse to learn SVG, and draw the entire thing in SVG.
get more text effects, etc.



TODO heavier styling on the font




    */
    margin: 0;
    padding: 0;
    border-radius: 8px;
    border: 4px ridge hsl(0, 0%, 100%);
    box-shadow: 1px 1px 3px hsl(0, 0%, 0%), inset 1px 1px 3px hsl(0, 0%, 0%);
    padding: 8px;
}

a, a:link, a:visited, a:active, a:hover {
    display: block;
    width: 40%;
    margin: 6px;
    padding: 4px 3px 3px 4px;
    border-radius: 4px;
    border: 2px outset hsl(0, 0%, 100%);
    box-shadow: 1px 1px 2px hsl(0, 0%, 0%), inset 1px 1px 2px hsl(0, 0%, 0%);
    text-align: center;
    font-weight: 600;
    color: hsl(0, 0%, 100%);
    text-decoration: none;
    text-shadow: 0px 0px 3px hsl(0, 0%, 0%);
    text-transform: uppercase;
    letter-spacing: 0.5pt;
    word-spacing: 0.1em;
}

a:hover {
    border-style: inset;
    padding: 5px 2px 2px 5px;
    background-color: hsla(0, 0%, 0%, 0.1);
}

screw {
    display: block;
    width: 0px;
    height: 0px;
    margin: 12px auto;
    border-radius: 5px;
    border: 5px outset hsl(0, 0%, 95%);
    box-shadow: 1px 1px 3px 1px hsl(0, 0%, 0%);
}

content {
    display: block;
    max-width: 20em;
    margin: 0 auto;
    color: hsl(0, 0%, 0%);
    font-family: monospace;
}

content h2 {
    text-align: center;
}

content p {
    text-align: center;
    margin: 0.3em 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
    empty-cells: show;
}

th, td {
    vertical-align: top;
    font-size: 10pt;
    padding: 2pt 6pt;
    border: 1px solid hsl(0, 0%, 50%);
}

tbody tr:hover {
    background-color: hsla(0, 0%, 100%, 0.2);
}

tr.invalid {
    color: hsl(0, 100%, 40%);
}

table .name {
    width: 50%;
    text-align: left;
}
table .date {
    width: 30%;
    text-align: left;
}
table .size {
    width: 20%;
    text-align: right;
}

#gameInfo .valid { display: none; }
#gameInfo .invalid { display: block; }
#gameInfo.valid .valid { display: block; }
#gameInfo.valid .invalid { display: none; }

</style>

</head>

<body>

<div>
    <section id="root">
        <div>
            <screw></screw>
            <section id="mainMenu">
                <header><h1>CitySim</h1></header>
                <nav>
                    <a class="showGameList" href="city.html">Load Game</a>
                    <a id="newGame" class="odd" href="city.html?new=1">Start New Game</a>
                    <a id="painter" href="painter.html">Painter</a>
                    <a id="unitTests" class="odd" href="tests.html">Unit Tests</a>
                </nav>
            </section>
            <section id="loadGameMenu" class="hidden">
                <content>
                    <table>
                        <thead>
                            <tr>
                                <th class="name">File</th>
                                <th class="date">Save Date</th>
                                <th class="size">Size</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <a class="showMainMenu" href="#">Cancel</a>
                </content>
            </section>
            <section id="gameInfo" class="hidden">
                <content>
                    <h2>title</h2>
                    <p class="invalid">This save file is obsolete and cannot be loaded.</p>
                    <p class="valid"><em>City name:</em> <span class="name"></span></p>
                    <p class="valid"><em>Game date:</em> <span class="date"></span></p>
                    <p class="valid"><em>Population:</em> <span class="population"></span></p>
                    <p class="valid"><em>Cash:</em> <span class="cash"></span></p>
                    <!-- minimap -->
                    <a class="open" href="#">Open</a>
                    <a class="delete" href="#">Delete</a>
                    <a class="showGameList" href="#">Go Back</a>
                </content>
            </section>
            <section id="noGamesToLoad" class="hidden">
                <header><h1>CitySim</h1></header>
                <content>
                    <p>There are no saved games.</p>
                    <nav>
                        <a class="showMainMenu" href="#">Cancel</a>
                    </nav>
                </content>
            </section>
            <screw></screw>
        </div>
    </section>
</div>

</body>

</html>
