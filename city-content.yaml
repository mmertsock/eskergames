# play with stuff here: http://nodeca.github.io/js-yaml/

############### GLOBAL CONFIG #############

simDate:
  longMonthStrings: [_,January,February,March,April,May,June,July,August,September,October,November,December]

_constants:
  - &RZONETEXTCOLOR "hsl(0,60%,45%)"
  - &CZONETEXTCOLOR "hsl(240,60%,45%)"
  - &IZONETEXTCOLOR "hsl(50,100%,35%)"

################ GAME RULES ###############

gameRules:
  difficulties:
  - name: Holiday Bonus
    isDefault: true
    startingCash: 50000
    loaned: false
  - name: Blue Collar
    startingCash: 20000
    loaned: false
  - name: Grapes of Wrath
    startingCash: 10000
    loaned: true
  autoSaveIntervalSeconds: 60
  speeds:
  - name: Snail
    daysPerSecond: 1
    glyph: üêå
  - name: Turtle
    daysPerSecond: 2
    glyph: üê¢
    isDefault: true
  - name: Hare
    daysPerSecond: 6
    glyph: üêá
  - name: Train
    daysPerSecond: 15
    glyph: üöÑ

################### PLOTS #################

zones:
  R:
    genericName: Residential
    plotSize: &ZONEPLOTSIZE
      width: 3
      height: 3
    newPlotCost: &ZONECOST 100
    maxDensityLevel: 5
    maxValueLevel: 4
    baseBulldozeCost: 5
  C:
    genericName: Commercial
    plotSize: *ZONEPLOTSIZE
    newPlotCost: *ZONECOST
    maxDensityLevel: 5
    maxValueLevel: 5
    baseBulldozeCost: 5
  I:
    genericName: Industrial
    plotSize: *ZONEPLOTSIZE
    newPlotCost: *ZONECOST
    maxDensityLevel: 4
    maxValueLevel: 3
    baseBulldozeCost: 5

terrainProps:
  tree:
    genericName: Tree
    plotSize: &ONEBYONE
      width: 1
      height: 1
    newPlotCost: 3
    bulldozeCost: 1

buildings:
- id: police
  genericName: Police Station
  plotSize: *ZONEPLOTSIZE
  newPlotCost: 500

################## INPUTS #################

pointInputController:
    singleClickMovementTolerance: 3
keyInputController:
  keyPressEvents:
    - [[Digit0], pauseResume]
    - [[Digit1], setEngineSpeed, 0]
    - [[Digit2], setEngineSpeed, 1]
    - [[Digit3], setEngineSpeed, 2]
    - [[Digit4], setEngineSpeed, 3]
    - [[Minus], zoomOut]
    - [[AnyShift,Minus], zoomOut]
    - [[Equal], zoomIn]
    - [[AnyShift,Equal], zoomIn]
    - [[AnyShift,Digit1], setZoomLevel, 0]
    - [[AnyShift,Digit2], setZoomLevel, 1]
    - [[AnyShift,Digit3], setZoomLevel, 2]
    - [[AnyShift,Digit4], setZoomLevel, 3]
    - [[Escape], escapePressed]
    - [[Slash], selectTool, query]
    - [[AnyShift,Slash], selectTool, query]
    - [[KeyX], selectTool, bulldozer]
    - [[KeyQ], selectTool, rZone]
    - [[KeyW], selectTool, cZone]
    - [[KeyE], selectTool, iZone]
    - [[KeyT], selectTool, tree]
  continuousKeyEvents:
    - [[ArrowUp], panMap, N]
    - [[ArrowUp,ArrowRight], panMap, NE]

################# MAP TOOLS ###############

mapTools:
  defaultPalette: [pointer, query, bulldozer, rZone, cZone, iZone, tree]
  singleClickMovementTolerance: 3
  paletteStyle:
    columns: 2
    tileWidth: 24
    fillStyle: &PANELFILL "hsl(0,0%,75%)"
    unselectedBasePainter: toolPaletteUnselectedBase
    selectedBasePainter: toolPaletteSelectedBase
    iconPainter: toolPaletteItem
  mapOverlayStyle:
    focusRectPainter: toolFocusRect
    feedbackFadeMilliseconds: 100
  definitions:
    pointer:
      isDefault: true
      type: pointer
      iconGlyph: ‚óé
      paletteTitle: Browse
    query:
      type: query
      iconGlyph: üîç
      paletteTitle: Inspect
    bulldozer:
      type: bulldozer
      iconGlyph: üí£
      paletteTitle: Bulldozer
    rZone:
      type: plopZone
      iconGlyph: üè†
      paletteTitle: "Residential Zone (¬ß100)"
      zoneType: R
    cZone:
      type: plopZone
      iconGlyph: üè¨
      paletteTitle: "Commercial Zone (¬ß100)"
      zoneType: C
    iZone:
      type: plopZone
      iconGlyph: üè≠
      paletteTitle: "Industrial Zone (¬ß100)"
      zoneType: I
    tree:
      # TODO make this a single plop-prop tool. Long press the tool in palette to change propType.
      type: plopProp
      iconGlyph: üå≥
      paletteTitle: "Tree (¬ß10)"
      propType: tree
  feedback:
    purchased:
      immediate: purchasedFeedbackSoundScript
      displayMilliseconds: 1000
      driftPerMillisecond:
        x: 0
        y: -0.01
      painter: purchasedFeedback

#################### UI ###################

mainMapView:
  edgePaddingFillStyle: "hsl(33, 37%, 87%)" # or try *PANELFILL
  emptyFillStyle: "hsl(33, 37%, 87%)"
  zoomLevels:
  - tileWidth: 3
  - tileWidth: 6
  - tileWidth: 12
    isDefault: true
  - tileWidth: 24

controlPanelView:
  fillStyle: *PANELFILL

rciView:
  barWidth: 0.25 # relative to view size
  fontSize: 20 # device independent pixels
  textSpacing: 4 # ditto
  bars:
    - color: *RZONETEXTCOLOR
      zoneType: R
      title: R
    - color: *CZONETEXTCOLOR
      zoneType: C
      title: C
    - color: *IZONETEXTCOLOR
      zoneType: I
      title: I

################## PAINTERS ###############

# command, args...
# units: p = device independent pixels. r = 0...1 relative size. px = device pixels.
# stroke args: style, shape, thickness, thick units, coords, coord units.
#   e.g. stroke,red,rect,1,p,0.25,0.25,0.5,0.5,r
# fill args: style, shape, coords, coord units
# text args: style, text size, size units, align, baseline, center coords, center units, text
# poly args: stroke style, fill style, width, width units, coord units, x1, y1, x2, y2, ..., [close]
painters:
  toolPaletteUnselectedBase:
    - [innerStroke,"hsl(0,0%,50%)",rect,1,p,0,0,1,1,r]
  toolPaletteSelectedBase:
    - [fill,"hsl(120,50%,75%)",rect,0,0,1,1,r]
    - [innerStroke,"hsl(0,0%,50%)",rect,1,p,0,0,1,1,r]
  toolPaletteItem:
    - [text,black,0.5,r,center,middle,0.5,0.5,r,"<iconGlyph>"]
  toolFocusRect:
    - [poly,black,,1,p, r, 0,0.3, 0,0, 0.3,0]
    - [poly,black,,1,p, r, 0.7,0, 1,0, 1,0.3]
    - [poly,black,,1,p, r, 1,0.7, 1,1, 0.7,1]
    - [poly,black,,1,p, r, 0.3,1, 0,1, 0,0.7]
  toolHighlightStuff:
    - [poly,,black,0,p, r, 1.1,1.1, 1.4,1.4, 1.25,1.4, 1.13,1.52]
    - [text,black,0.75,tw,center,middle,1.44,1.8,r,"<highlightGlyph>"]
  purchasedFeedback:
    - [text,green,10,p,left,middle,1.1,0.5,r,"<formattedPrice>"]
  zoneRd0v0:
    expectedSize: *ZONEPLOTSIZE
    variants:
      - - [fill,"hsl(0,50%,80%)",rect,0,0,1,1,r]
        - [innerStroke,"hsl(0,60%,45%)",rect,1,p,0,0,1,1,r]
        - [text,*RZONETEXTCOLOR,0.25,r,center,middle,0.5,0.5,r,R]
  zoneCd0v0:
    expectedSize: *ZONEPLOTSIZE
    variants:
      - - [fill,"hsl(240,50%,80%)",rect,0,0,1,1,r]
        - [innerStroke,"hsl(240,60%,45%)",rect,1,p,0,0,1,1,r]
        - [text,*CZONETEXTCOLOR,0.25,r,center,middle,0.5,0.5,r,C]
  zoneId0v0:
    expectedSize: *ZONEPLOTSIZE
    variants:
      - - [fill,"hsl(50,65%,80%)",rect,0,0,1,1,r]
        - [innerStroke,"hsl(50,100%,35%)",rect,1,p,0,0,1,1,r]
        - [text,*IZONETEXTCOLOR,0.25,r,center,middle,0.5,0.5,r,I]
  proptree:
    variants:
      - - [fill,"hsl(35, 76%, 23%)",rect,0.4,0.5,0.2,0.5,r]
        - [fill,"hsl(120, 35%, 50%)",ellipse,0.25,-0.1,0.5,0.8,r]
      - - [fill,"hsl(35, 66%, 33%)",rect,0.4,0.5,0.2,0.5,r]
        - [fill,"hsl(120, 55%, 45%)",ellipse,0.2,0.1,0.6,0.6,r]

################## STRINGS ################

strings:
  cityStatusCashLabel: Cash
  cityStatusDateLabel: Date
  cityStatusNameLabel: Name
  cityStatusPopulationLabel: Population
  deleteGameConfirmPrompt: "Are you sure you want to delete this file?"
  dialogDismissButton: ‚úñÔ∏è
  difficultyChoiceLabelTemplate: "<name> (<formattedCash>)"
  engineMsPerDayLabel: "<value> ms/day"
  failedToFindGameMessage: Unable to locate the specified game file.
  failedToLoadGameMessage: There was a problem loading the game data.
  failedToLoadGameTitle: Failed to load game
  frameRateTokenSeparator: ". "
  gameProductTitle: CitySim
  genericCancelButton: Cancel
  helpButtonLabel: Help
  undoButtonLabel: Undo
  redoButtonLabel: Redo
  helpDismiss: Thanks!
  newGameDialogStartButton: Start Game
  newGameDialogTitle: New Game
  newTerrainDialogTitle: New Terrain
  optionsButtonLabel: Options
  quitButton: Quit
  quitGameConfirmPrompt: "Are you sure you want to quit? You may have unsaved changes."
  regenerateTerrainPrompt: "Are you sure? This will destroy the current terrain."
  saveAndQuitButton: Save and Quit
  saveButton: Save
  systemMenuTitle: System
  uiFpsLabel: "<value> fps"
  windowTitleTemplate: "<date> in <name> ‚Äî <gameProductTitle>"
  zoomInButtonGlyph: ‚ûï
  zoomOutButtonGlyph: ‚ûñ
  citySettingsCityNameLabel: City Name
  citySettingsMayorNameLabel: Mayor Name
  citySettingsDifficultyLabel: Difficulty
  terrainSettingsNameLabel: Name
  terrainSettingsSizeLabel: Size
  newTerrainDialogCreateButton: Create

################## SCRIPTS ################

scripts:
- id: _beginGame
  fireOnce: true
  actions: []

################## TERRAIN ################

terrain:
  metersPerTile: 100
  sizes:
    - name: Small
      width: 64
      height: 64
    - name: Medium
      isDefault: true
      width: 128
      height: 128
    - name: Large
      width: 256
      height: 256
  oceanGenerator:
    shoreDistanceFraction: [0.13, 0.13, 0.13]
    shoreDistanceVariance: [0.5, 0.3, 0.2]
    roughness: [0.4, 0.32, 0.25]

terrains:
- id: _default
  size:
    width: 256
    height: 256
